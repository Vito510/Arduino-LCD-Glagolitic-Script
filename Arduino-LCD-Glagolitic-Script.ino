#include <Wire.h>
#include <LiquidCrystal_I2C.h>

LiquidCrystal_I2C lcd(0x27, 16, 2);

byte mem[][8] = {
        {B00000,B01110,B00100,B00100,B11111,B10101,B10101,B10101},
        {B00000,B10101,B10101,B10111,B11100,B10000,B10000,B11111},
        {B00000,B01101,B10101,B01101,B00101,B00110,B00010,B00010},
        {B00000,B01111,B01010,B01010,B01010,B01010,B01010,B01110},
        {B00000,B11000,B01000,B01000,B01000,B01110,B01010,B01110},
        {B00000,B01100,B10010,B00010,B00110,B00010,B10010,B01100},
        {B00000,B00100,B01110,B10101,B10101,B01110,B00100,B00100},
        {B00000,B00000,B11111,B10001,B01010,B00100,B01011,B10011},
        {B00000,B00000,B11111,B00001,B00010,B00100,B01011,B10011},
        {B00000,B01110,B01010,B01010,B01110,B01010,B01010,B01110},
        {B00000,B01010,B01010,B01010,B01111,B01010,B01010,B01010},
        {B00000,B01110,B01010,B01010,B11100,B01000,B01000,B01000},
        {B00000,B01110,B00100,B01000,B01110,B00010,B00010,B00010},
        {B00000,B00011,B00010,B01111,B01010,B01010,B01010,B01010},
        {B00000,B11000,B01000,B11110,B01010,B01010,B01010,B01010},
        {B00000,B01110,B10101,B10101,B10101,B01110,B10101,B00100},
        {B00000,B00111,B00101,B00101,B01110,B00100,B00100,B00100},
        {B00000,B01110,B01010,B01010,B00110,B01010,B01010,B01110},
        {B00000,B11111,B10101,B10101,B10111,B10000,B10000,B10000},
        {B00000,B01110,B01000,B01000,B01000,B01100,B01010,B01110},
        {B00000,B01110,B10001,B10001,B10101,B01010,B01010,B01110},
        {B00000,B01111,B01010,B01010,B01010,B01010,B01010,B01110},
        {B00000,B11110,B01010,B01010,B01010,B01010,B01010,B01110},
        {B00000,B11111,B10101,B10101,B01111,B10101,B10101,B11111},
        {B00000,B01110,B01010,B01010,B01010,B01010,B01010,B01111},
        {B00000,B01110,B01010,B01010,B01010,B01010,B01010,B11110},
        {B00000,B11100,B10100,B10100,B11100,B10100,B11011,B10011},
};

int map_[][3] = {{65,0},{66,1},{67,2},{68,3,4},{69,5},{70,6},{71,7},{72,8},{73,9},{74,10,11},{75,12},{76,13,14},{77,15},{78,16},{79,17},{80,18},{82,19},{83,20},{84,21,22},{85,23},{86,24,25},{90,26}};

void gprint(char x) {
  int x_int = toupper(x);
  int index = -1;

  //hardcoded length
  for (int i = 0; i < 22; i++) {
    if (x_int == map_[i][0]) {
        index = i;
      }
    }

  if (index == -1) {
    lcd.print(x);
    return 0;  
  }
  
  size_t s = sizeof(map_[index]) / sizeof(map_[index][0]);
  for (int i = 1; i < s; i++) {
      int j = map_[index][i];
      lcd.createChar(0, mem[j]);
      lcd.write(0);
  }

  
}


void setup() {
  char x[] = "Hello World";

  for (int i = 0; i < strlen(x); i++) {
    gprint(x[i]);  
  }
  
}

void loop() {
  
  }
